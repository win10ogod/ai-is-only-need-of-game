# 戀愛冒險 - Dating Adventure

一個具有智能記憶系統的戀愛文字冒險遊戲，讓NPC能記住與玩家的互動歷程。

## 記憶系統說明

本遊戲使用兩層記憶系統來維護NPC的記憶：

1. **短期記憶 (Short-term Memory)**
   - 儲存最近的對話歷史（最後10次互動）
   - 用於維持對話的即時連貫性
   - 暫時性，會隨著對話推進而更新

2. **長期記憶 (Long-term Memory)**
   - 儲存重要的對話和事件
   - 根據AI分析的重要性（0.0-1.0）決定是否保存
   - 永久性，會影響NPC的長期關係發展
   - 在對話中自然引用過去的重要互動

記憶評分機制：
- 重要性 >= 0.7: 儲存為長期記憶
- 重要性 < 0.7: 僅保留在短期記憶中

## 遊戲特色

- 富有個性的女主角優希，是一位對藝術充滿熱情的咖啡廳打工女孩
- 多樣化的場景：咖啡廳、公園、美術館
- 動態對話系統，對話內容會根據關係程度改變
- 豐富的互動選項和特殊事件
- 禮物系統
- 關係發展系統

## 系統要求

1. **必要配置**:
   - Python 3.8+
   - OpenAI API金鑰

2. **依賴套件**:
   - openai>=1.6.1
   - pyyaml==6.0.1
   - python-dotenv==1.0.0
   - httpx>=0.26.0

## 遊戲場景

1. **溫馨咖啡廳**
   - 優希的打工地點
   - 可以品嚐咖啡、欣賞她的拉花藝術
   - 適合日常交談

2. **中央公園**
   - 優希常來寫生的地方
   - 可以在這裡偶遇她
   - 適合散步約會和收集野花

3. **現代美術館**
   - 展示各種藝術作品
   - 可以和優希討論藝術
   - 有紀念品商店可以購買禮物

## 關係等級系統

關係等級從0到100，分為以下階段：

- 0-20: 陌生人（一般服務態度）
- 21-40: 熟客（會記得你的喜好）
- 41-60: 朋友（願意分享生活趣事）
- 61-80: 好友（會和你分享煩惱）
- 81-100: 親密（展現真實的自己）

## 開始遊戲

1. 安裝依賴：
```bash
pip install -r requirements.txt
```

2. 設置 OpenAI API：
在 `.env` 文件中添加：
```
OPENAI_API_KEY=your_api_key_here
```

3. 運行設置腳本：
```bash
python setup.py
```

4. 啟動遊戲：
```bash
python -m text_adventure_engine --game-dir .
```

## 遊戲指令

基本指令：
- `look` - 查看當前場景
- `inventory` - 查看物品欄
- `talk yuki [內容]` - 和優希對話
- `go [地點]` - 移動到其他場景
- `take [物品]` - 拿取物品
- `give [物品] to yuki` - 送禮物給優希
- `help` - 顯示幫助信息
- `save [名稱]` - 儲存遊戲
- `load [存檔]` - 讀取存檔

## 與優希互動技巧

1. **建立初步印象**
   - 以禮貌的態度交談
   - 表現對咖啡的興趣
   - 觀察她的工作態度

2. **深化關係**
   - 記住她提到的事情
   - 關心她的藝術創作
   - 在適當時機展現對藝術的了解
   - 注意她的情緒變化

3. **重要互動時機**
   - 工作之餘的休息時間
   - 公園寫生的偶遇
   - 美術館的藝術討論
   - 下雨天的特殊對話

4. **禮物選擇**
   - 藝術相關的禮物效果最好
   - 時機的選擇很重要
   - 避免重複送同樣的禮物
   - 考慮當前的關係等級

## 遊戲存檔

- 存檔會保存：
  - 當前場景狀態
  - 物品欄內容
  - 與優希的關係等級
  - 重要的長期記憶
  - 最近的對話歷史

## 提示與建議

1. **對話建議**
   - 保持真誠的態度
   - 注意回應的連貫性
   - 適時回顧過去的對話
   - 根據場景選擇話題

2. **關係發展**
   - 循序漸進，不要操之過急
   - 注意優希的反應和暗示
   - 在合適的場合表達關心
   - 尊重她的興趣和夢想

3. **記憶運用**
   - 適時提及過去的共同經歷
   - 記住她提過的重要事情
   - 注意她的偏好和禁忌
   - 讓對話自然連貫

祝你在遊戲中找到屬於自己的浪漫故事！